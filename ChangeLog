2001-09-14  Edward Avis,  <epa98@texel26>

	* ClickListings.pm:
	Latest version from Jerry (just in time for 0.2.10).

	* README: Version 0.2.10.

	* xmltv.dtd:
	Version 0.3.1 (really I should have been updating this number more
	often).

	* getlistings_uk_ananova:
	Include Ananova's copyright message as a comment in the output.

	* channels.dtd: A channel can have zero or more URLs.

	* channels.dtd:
	Added source- and generator- attributes like those we already have for
	xmltv.dtd.

	* xmltv.dtd: Added an example of 'star-rating'.

	* xmltv.dtd:
	Added 'star-rating' to programme elements.  Three stars out of five,
	etc.

	* getlistings_na: Latest version from Jerry.

	* sort_listings:
	clumpidx_cmp(): call variables $A and $B, not their lowercase
	equivalents which are somewhat special in Perl.

	* getlistings_uk_ananova:
	Add 'source' attribute to generated listings (for debugging);
	fixed mistyped channel id.

	* XMLTV.pm: Added 'source' as a comment (used for debugging).

2001-08-14  Edward Avis,  <epa98@texel26>

	* mkdist: Remove attic/RCS/ directory.

	* XMLTV.pm:
	Added read_credits(), which returns a hash of the <tv> element's
	attributes.

	* listings_to_latex:
	Include some credits at the end of the file (but not currently
	possible when reading from stdin).

	* README: Updated for current situation.

	* README.channels:
	Updated for what's been happening with channels - we use the file
	format but not the Perl module :-(.

	* getlistings_na: Re-enabled hours, since they seem to work now :-).

	* getlistings_na:
	Re-disabled hours setting since I'm still not sure if it works.

	* ClickListings.pm:
	Latest version from Jerry; uses Data::Dumper directly
	rather than Log::TraceMessages; removes \n and \r from
	HTML before parsing.

	* getlistings_na:
	Latest version from Jerry; has his fix for writing to stdout bug.

	* getlistings_na:
	Die if you try to write multiple programmes files to the same
	filename.

	* ClickListings.pm:
	Changed dumpMe to use Log::TraceMessages's d(), so it can dump hashes
	and stuff as well as lists.  Changed to ISO 8601 date format for
	status messages.  Made getChannelList() more robust.

	* getlistings_na:
	A few more changes asked for by Jerry: fix the comment about $URL and
	put his one in the file; move the output of all subtitles to the
	correct place.  Also changed defaults to all hours, 14 days as
	discussed.

2001-08-12  Edward Avis,  <epa98@texel26>

	* getlistings_na:
	Instead of copying in some part of the URL, you just give the whole
	URL and the script extracts the service id from it.

	* getlistings_na:
	Rearranged the order of programme details output so that it conforms
	to the DTD.

	* getlistings_na: Write channels data to channels.xml by default.

	* getlistings_na, ClickListings.pm: New version from Jerry Veldhuis.

	* getlistings_uk_ananova: Updated usage message with --days option.

	* getlistings_uk_ananova:
	Added --days option (number of days' listings to download).

	* xmltv.dtd:
	The <tv> element has several new attributes to better acknowledge the
	source of the listings data.  The old 'source' and 'author' attributes
	are deprecated.

	* listings_to_latex:
	Reads channels.xml to get the display names (chooses the shortest),
	rather than having channel numbers hardcoded.

	* channels.dtd:
	Changed the comments to make it clear that you can put a commonly used
	channel number as a display name.

	* XMLTV.pm: Now provides routines to read and write channels files.

	* getlistings_uk_ananova:
	Second rewrite - now uses raw data feed helpfully provided by Samuel
	Liddicott at Ananova.

2001-08-11  Edward Avis,  <epa98@texel26>

	* XMLTV.pm: New-style <audio> element.

2001-08-08  Edward Avis,  <epa98@texel26>

	* getlistings_uk_ananova:
	Remove the \240 (non-breaking-space) character from text fetched.

2001-07-28  Edward Avis,  <epa98@texel26>

	* getlistings_uk_ananova: Allow multiple, comma-separated directors.

	* XMLTV.pm:
	Don't enforce having only one director - that constraint has
	disappeared from the DTD.

	* xmltv.dtd:
	Allow more than one director - it's unusual but not impossible.

	* channels.dtd:
	Made the 'lang' attribute of display-name IMPLIED rather than
	REQUIRED.  In general, it's good to make as much stuff as possible
	optional, because then people can get started quickly with a simple
	file.

2001-07-22  Edward Avis,  <epa98@texel26>

	* README: Version 0.2.8 (again)

	* ClickListings.pm, getlistings_na: New file.

	* README: Version 0.2.8

	* XMLTV.pm, getlistings_uk_ananova, listings_to_latex:
	Uses UK_TZ.pm rather than uk_tz.pl.

	* UK_TZ.pm:
	Made into a proper module (the filename also changed to UK_TZ.pm).

	* listings_to_latex:
	Programme hashes have a key called sub_title, not 'sub-title'.

	* XMLTV.pm: Fixed so it works; Memoized to go (much) faster.

	* getlistings_uk_ananova: write_programme() moved to XMLTV.pm.

	* listings_to_latex:
	Moved get_programmes() into XMLTV.pm as read_programmes().

	* XMLTV.pm: New file.

	* getlistings_uk_ananova:
	Copied the clumpidx-adding code from the old listings-grabber.

	* getlistings_uk_ananova:
	Fix the output so nsgmls is happy (apart from it complaining about
	EMPTY elements in the DTD).

	* xmltv.dtd:
	Added 'new' element - first episode of a totally new programme.

	* getlistings_uk_ananova:
	Now uses the index page to work out what programme detail pages
	actually exist.

	* getlistings_uk_ananova:
	The internal channel name (eg bbc1.bbc.co.uk) is what gets output.

2001-07-17  Edward Avis,  <epa98@texel26>

	* getlistings_uk_ananova:
	Lots of fixes, in particular the date and time handling now uses
	date_programmes() copied from the old listings grabber.  This has been
	modified many times over the past year to cope with the stupidities of
	timezone switching, so it should be pretty robust.

2001-07-16  Edward Avis,  <epa98@texel26>

	* getlistings_uk_ananova: Handle some more data I've found.

	* getlistings_uk_ananova: New file.

2001-06-21  Edward Avis,  <epa98@texel26>

	* pick_cgi: Remove outdated towatch file if needed.

2001-06-10  Edward Avis,  <epa98@texel26>

	* UK_TZ.pm:
	Removed FIXME - if a date has an explicit timezone, we just accept it
	as-is and don't need to worry.

	* pick_cgi:
	If the listings file is newer than tvprefs, don't worry about
	overwriting tvprefs.

	* pick_cgi:
	Use the programme's real title to look up in tvprefs - that's
	different to the displayed title, which may have the year
	or other stuff appended to it.

	* pick_cgi:
	Now pick_cgi can generate XML of the chosen programmes itself
	- removing the need for pick_process.

	* pick_cgi: Moved reading data into read_programmes().

	* xmltv.dtd:
	Added premiere and last-chance (to support listings from people like
	Sky, who show a film several times and flag the first and last
	showings), and rating (mostly for films).  Also
	<stereo>surround</stereo>.

2001-05-28  Edward Avis,  <epa98@texel26>

	* mkdist: Remove cgi/ too.

	* mkdist: Fixed punctuation.

	* mkdist: Modified for XMLTV rather than Lingua::Preferred.

	* mkdist: New file.

	* README: Version 0.2.7; doc.html has gone.

	* pick_cgi:
	Print more information for each programme - sub-title, credits,
	category, date and clumpidx.

2001-03-26  Edward Avis,  <epa98@texel26>

	* listings_to_latex:
	Use ParseDate_PreservingTZ(), so dates are printed in the same timezone they have in the XML.  More intelligent printing of timezones.

	* UK_TZ.pm:
	Generalize gettz() to any timezone; new function ParseDate_PreservingTZ()

2001-03-22  Edward Avis,  <epa98@texel26>

	* README: Version 0.2.5

	* pick_cgi: Moved some code into the Lingua::Preferred module

	* listings_to_latex: Use sans serif font

	* channeltest.pl: Clean up a bit - still not working though

2001-03-21  Edward Avis,  <epa98@texel26>

	* UK_TZ.pm:
	parse_uk_date(): return undef if date is impossible (instead of dying)

2001-02-14  Edward Avis,  <epa98@texel26>

	* channels_uk.xml, README.channels, channeltest.pl, channels_nl.xml, channels.dtd:
	New file.

2001-02-13  Edward Avis,  <epa98@texel26>

	* pick_cgi:
	get_text() now copes with 'just strings' as well as hashrefs; moved
	most of the work into auxiliary sub get_text1().

2000-10-27  Edward Avis,  <epa98@texel26>

	* README: Whoops, 0.2.4

	* README: Updated for version 0.2.5

	* UK_TZ.pm: Don't print warning of ambiguous dates

	* listings_to_latex: *** empty log message ***

	* listings_to_latex:
	Add short human-readable names for some UK digital channels

2000-10-26  Edward Avis,  <epa98@texel26>

	* UK_TZ.pm:
	parse_uk_date(): you can now specify a 'default' timezone to be used for ambiguous times

	* sort_listings:
	programme_cmp() now has t() statements - surprisingly, it's not really any slower with trace turned off

	* UK_TZ.pm: It really works this time.  I promise.

2000-10-24  Edward Avis,  <epa98@texel26>

	* README: Version 0.2.4

	* pick_cgi:
	XML::Simple 1.05 bugfix means text content no longer arrayified

2000-10-15  Edward Avis,  <epa98@texel26>

	* pick_cgi: The module Dbg has been reborn as Log::TraceMessages

	* pick_cgi:
	Add character set UTF-8 to HTTP headers and <meta http-equiv>

	* pick_cgi: Make reading $ENV{LANG} actually work

	* pick_cgi:
	Read XMLTV files with titles etc in multiple languages, and pick the language the user prefers

2000-10-12  Edward Avis,  <epa98@texel26>

	* pick_cgi: Fix prototypes; remove references to /homes/epa98

	* UK_TZ.pm: Sanity checks

2000-10-10  Edward Avis,  <epa98@texel26>

	* xmltv.dtd: Update version number to 0.3

	* filter_shown:
	Suppress 'no stop time' warning once for each channel - to handle sort_listings output without complaining

	* sort_listings, pick_cgi, listings_to_latex:
	Declare subroutine prototypes to avoid perl 5.6 warning

2000-10-09  Edward Avis,  <epa98@texel26>

	* listings_to_latex:
	Quote title with quote() as well as converting it to Latin-1

	* README: Updated message for xmltv-0.2

	* listings_to_latex:
	Quote characters for LaTeX using quote() copied from dtd2latex

2000-10-06  Edward Avis,  <epa98@texel26>

	* pick_cgi: Make backup of tvprefs before overwriting

	* uk_channels.xml: New file.

	* UK_TZ.pm: Comment changes

	* sort_listings: Better error message

2000-10-05  Edward Avis,  <epa98@texel26>

	* listings_to_latex:
	Convert internal channel names to channel numbers (for UK anyway)

2000-10-04  Edward Avis,  <epa98@texel26>

	* sort_listings: Handle clumpidx

	* xmltv.dtd:
	Added clumpidx attribute of programme for 'News; Weather' type situations

	* xmltv.dtd:
	Add <guest> under <credits>; make clear that credits are in decreasing order of importance

	* xmltv.dtd:
	Add <subtitles> sub-element of programme with 'type' and 'language'

	* xmltv.dtd: Add <previously-shown> to indicate a repeat

	* xmltv.dtd: Make 'system' for episode-num actually work

	* xmltv.dtd:
	Add <video> and <audio> to cover audio-only, mute, b&w, stereo, and different aspect ratios.

	* xmltv.dtd:
	Add 'country' and episode numbering systems (xmltv_ns, onscreen)

	* pick_cgi: Replaced 'maybe' in tvprefs and %wanted with 'yes' or 'no'

2000-10-03  Edward Avis,  <epa98@texel26>

	* UK_TZ.pm: Sanity check

2000-10-02  Edward Avis,  <epa98@texel26>

	* filter_shown: Warning if programme has no stop time (cannot filter)

	* sort_listings: Warning for zero-length programmes

	* UK_TZ.pm: Sanity check

2000-09-23  Edward Avis,  <epa98@texel26>

	* sort_listings: 'programmes do not sort' now non-fatal

2000-09-09  Edward Avis,  <epa98@texel26>

	* sort_listings: Memoized some things, tidied

	* xmltv.dtd, UK_TZ.pm: New file.

	* listings_to_latex: tz.pl renamed to uk_tz.pl

	* sort_listings, pick_process, pick_cgi, listings_to_latex, filter_shown, README, ChangeLog.old, COPYING:
	New file.

